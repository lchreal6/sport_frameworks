<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<script type="text/javascript">
		var timer = null;
		var timer1 = null;
		window.onscroll = function() {

			var oDiv = document.getElementById('div1');
			var docTop = document.documentElement.scrollTop || document.body.scrollTop;
			var target = docTop + (document.documentElement.clientHeight - oDiv.offsetHeight) - 30;
			var curTarget = parseInt(target);
			oDiv.style.display = 'block';
			starMove(curTarget);
			if(parseInt(docTop)===0){
				oDiv.style.display = 'none';
			}
		};



		window.onload = function() {
			var oDiv = document.getElementById('div1');
			var docTop = document.documentElement.scrollTop || document.body.scrollTop;

			oDiv.onclick = function() {
				starMove2(0);
			};
		};

		function starMove(target) {
			var oDiv = document.getElementById('div1');
			clearInterval(timer);
			timer = setInterval(function() {
				var speed = (target - oDiv.offsetTop) / 8;
				var newspeed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
				if (oDiv.offsetTop == target) {

					clearInterval(timer);

				} else {
					oDiv.style.top = oDiv.offsetTop + newspeed + "px";
				}
			}, 30);

		}

		function starMove2(target) {
			var docTop = document.documentElement.scrollTop || document.body.scrollTop;
			var oDiv = document.getElementById('div1');
			clearInterval(timer1);
			timer1 = setInterval(function() {
				var docTop = document.documentElement.scrollTop || document.body.scrollTop;
				var speed = (target - docTop) / 8;
				var newspeed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
				if (docTop == target) {

					clearInterval(timer1);
					oDiv.style.display = 'none';

				} else {

					document.body.scrollTop = docTop + newspeed;
				}

				console.log(docTop.toString);
			}, 30);

		}
</script>
<style type="text/css">
	#div1{
		width: 0;
		height: 0;
		border:30px solid;
		position: absolute;
		top: 0;
		right: 0;
		border-color:#ffffff #ffffff red #ffffff;
		display: none;
		cursor: pointer;
	}
	
</style>
<body style="height:2000px;" >
	<div id="div1"></div>
	
</body>
</html>